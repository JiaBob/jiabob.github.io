

<!DOCTYPE html>
<html lang="en">
<head>
	<title>  Gallery </title>
	<meta charset='utf-8'/>
	<meta name="keyword" content="my scene">
	<link rel="icon" href="../../static/img/icon_32.png" type="/image/x-icon" />

	<!-- boostrap4 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

	<link rel="stylesheet" type="text/css" href="../../static/css/my.css"/> <!-- own css import should be at the end to override the css of boostrap4-->

</head>
<body  >

<!-- nav bar/ -->
<nav class="top">
<ul>
<li><a href="../../index.html">Home</a></li>
<li><a href="../../contents/article/1.html">Passion</a></li>
<li><a href="../../contents/articles.html">Articles</a></li>
<li>
	<a href="../../contents/gallery.html">Gallery</a>
	<ul>
	<li><a>...</a></li>
	<li><a>...</a></li>
	</ul>
</li>
</ul>
<div id="placeholder">
	<ul>
		<li>
			<a href="../../https://github.com/JiaBob.html" target="_blank"><img src="../../static/img/GitHub-Mark-32px.png"><img></a>
		</li>
	</ul>
</div>
</nav>
<!-- /nav bar -->

<!-- header/ -->
<header>
<div>
	 <img id="title-img" src="../../static/img/title.jpg"> 
	<h1 id="title"> Gallery - Sunset </h1>
</div>
</header>
<!-- /header -->

<!-- content/ -->

<main id="inner-main">
<div class='outer'>
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-42"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-42.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-44"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-44.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-45"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-45.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-53"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-53.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-54"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-54.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-56"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-56.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-57"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-57.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-59"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-59.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-60"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-60.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-62"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-62.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-64"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-64.jpg"></a>
	    </div>
        
    
        
	    <div class='img'>
		    <a data-toggle='modal' data-target='#galleryModal' data-imgname="boblogimg-66"><img src="https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-66.jpg"></a>
	    </div>
        
    


    <nav aria-label="paging">
        <ul class="pager">
            
            <li class="">
                <a href="/contents/gallery/sunset-page=2"> Previous Page</a>
            </li>
            
            
            <li class="">
                <a href="/contents/gallery/sunset-page=4"> Next Page</a>
            </li>
            
        </ul>
    </nav>
    


<!-- Modal -->
<div class="modal fade exampleModal-xl" id="galleryModal" tabindex="-1" role="dialog" aria-labelledby="galleryModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-body">
	  <button type="button" class='left'><img src="../../static/img/left-arrow.svg"></button>
		<button type="button" class='right'><img src="../../static/img/right-arrow.svg"></button>
	  <div class='inner'>
	  	<div class='showsingle'>
			<div class='wrapper'>
				<div class='modal-img'>
					<img class='img-small' src="">
				</div>
			</div>
			<div class='modal-description'>
				<p></p>
			</div>
		</div>
      </div>
	  </div>
    </div>
  </div>
</div>

</div>
</main>


<!-- /content -->

<!-- footer/ -->
<footer>
	<div id="row">
		<div id="left-footer">
			<div>
			<p>Feedback</p>
			<textarea rows='5' cols='50' form="the-form" name="body" placeholder="What you want to talk to me-" ></textarea>
			<form id="the-form" action="mailto:123419282@qq.com" enctype="text/plain">
				<input type="text" name="subject" value="boblog feedback" style="display:none" />
				<input type="submit" class="btn btn-light" id="form-btn" value="send to me" />
			</form>
			</div>
		</div>
		<div id="right-footer">
			<div>
			<h4>Contact me</h4>
			<p>xuxiansheng2055@gmail.com</p>
			</div>
		</div>
	</div>
	<hr>
	<p id="copyright">&copy; Copyright 2019 - Jiabo Xu</p>
</footer>
<!-- /footer -->

<!-- float button/ -->
<div id="fix-float">
<a href="#title-img"><img id="up" src="../../static/img/up-arrow.svg" width="24" height="24"></a>
<a href="
        
            /contents/gallery/sunset-page=2
        
    "><img id="left" src="../../static/img/left-arrow.svg" width="24" height="24" ></a>
<a href="
        
            /contents/gallery/sunset-page=4
        
    "><img id="right" src="../../static/img/right-arrow.svg" width="24" height="24" ></a>
<a href="#left-footer"><img id="down" src="../../static/img/down-arrow.svg" width="24" height="24" ></a>
</div>
<!-- /float button -->

</body>

<script>

    $(function(){
        // generate during initializing the page.
        // due to backend paginating, the img info must be in a list
        var imglist = [{'boblogimg-42': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-42.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-42.jpg'}}, {'boblogimg-44': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-44.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-44.jpg'}}, {'boblogimg-45': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-45.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-45.jpg'}}, {'boblogimg-53': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-53.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-53.jpg'}}, {'boblogimg-54': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-54.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-54.jpg'}}, {'boblogimg-56': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-56.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-56.jpg'}}, {'boblogimg-57': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-57.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-57.jpg'}}, {'boblogimg-59': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-59.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-59.jpg'}}, {'boblogimg-60': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-60.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-60.jpg'}}, {'boblogimg-62': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-62.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-62.jpg'}}, {'boblogimg-64': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-64.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-64.jpg'}}, {'boblogimg-66': {'desc': '', 'url': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_small/boblogimg-66.jpg', 'original': 'https://s3-ap-southeast-2.amazonaws.com/jiabob-img/boblog/boblog_prog_jpg/boblogimg-66.jpg'}}]
        var imgdict = new Array();

        var srcindex = []; // for browser forward and backward

        // construct img info from list into dictionary. it is for modal display
        for ( var i = 0; i < imglist.length; i++){
            for (var key in imglist[i])
                imgdict[key] = imglist[i][key];
                imgdict[key]['index'] = i;
                srcindex.push(key);
        }
        const imglength = srcindex.length;  // for browsing image in a loop
        var idx;  // record current image index

        $('.modal button.left').click(function(){
            idx = idx - 1 >= 0 - idx ? 1 : imglength - 1; // for browsing image in a loop
            $('.modal').find('.modal-img img').nextAll().remove(); // for progressive image loading
            imgshow('.modal', imgdict[srcindex[idx]]);
        })
        $('.modal button.right').click(function(){
            idx = idx + 1 < imglength ? idx + 1 : 0;
            $('.modal').find('.modal-img img').nextAll().remove();
            imgshow('.modal', imgdict[srcindex[idx]]);

        })
        // boostrap in-built modal event for initialization image info from image info dictionary
        $('.modal').on('show.bs.modal', function(event){
            var button = $(event.relatedTarget);
            var img = imgdict[button.data('imgname')];
            idx = img['index'];
            imgshow(this, img);
        })

        // main function to display image info and progressive image loading
        function imgshow(modal, data){
            $(modal).find('.modal-img img').attr('src', data['url']);

            // load small image. (it is loaded already).
            var img = new Image();  // Image object is used for preloading(caching) image
            img.src = data['url'];
            img.onload = function(){
                $('.img-small').addClass('loaded'); // make it visible
            };
            var img_ori = new Image(); // start loading original image
            img_ori.src = data['original']
            img_ori.onload = function(){
                img_ori.classList.add('loaded');
            }
            $(modal).find('.modal-img').append(img_ori);  // append before loaded. it makes progressive effect looks better.

            $(modal).find('.modal-description p').html(data['desc']);
        }
    })

select = function GetRequest() {
  var str = location.href
  var num = str.indexOf("#");
  if (num != -1){
	elementid = str.substr(num + 1);
    $("#"+elementid).css("border", "thick solid red");
  }
}
select();
</script>
</body>
</html>